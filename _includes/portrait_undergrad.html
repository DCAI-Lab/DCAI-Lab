{% if include.lookup %}
  {% assign member = site.members 
    | where_exp: "member", "member.slug == include.lookup"
    | first
  %}
{% else %}
  {% assign member = include %}
{% endif %}

{%- comment -%}
이메일은 두 경로 모두 지원:
- member.links.email (기존 portrait.html 구조)
- member.email (데이터에서 바로 email 필드 쓴 경우)
{%- endcomment -%}
{% assign email = nil %}
{% if member.links and member.links.email %}
  {% assign email = member.links.email %}
{% elsif member.email %}
  {% assign email = member.email %}
{% endif %}

<div class="portrait-wrapper" style="text-align:left;">
  <div class="portrait" data-style="{{ include.style }}">
    <span class="portrait-name" style="font-size:1.1rem;">
      {{ member.name }}
    </span>
    {% if email %}
      <span class="portrait-email" style="margin-left:8px; font-size:0.9rem; color:#555;">
        &lt;<a href="mailto:{{ email }}" style="color:inherit; text-decoration:none;">
          {{ email }}
        </a>&gt;
      </span>
    {% endif %}
  </div>
</div>
