{% if include.lookup %}
  {% assign member = site.members 
    | where_exp: "member", "member.slug == include.lookup"
    | first
  %}
{% else %}
  {% assign member = include %}
{% endif %}

{%- comment -%}
옵션:
- width: 이미지 가로(px). 기본 220
- round: true면 둥근(원형) 처리. 기본 true
{%- endcomment -%}
{% assign img_w = include.width | default: 220 %}
{% assign round = include.round | default: true %}

<div class="portrait-wrapper">
  <div
    class="portrait"
    data-style="{{ include.style }}"
    aria-label="{{ member.name | default: 'member portrait' | regex_strip }}"
  >
    <img
      src="{{ member.image | relative_url | uri_escape }}"
      class="portrait-image"
      alt="{{ member.name | default: 'member portrait' | regex_strip }}"
      loading="lazy"
      style="width:{{ img_w }}px; height:auto;{% if round %} border-radius:50%;{% endif %}"
      {% include fallback.html %}
    >
  </div>
</div>
